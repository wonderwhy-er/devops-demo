name: PR Status Check

on:
  pull_request:
    branches: [ main ]
    types: [opened, synchronize, reopened]

jobs:
  quality-gate:
    runs-on: ubuntu-latest
    name: ðŸ”’ Quality Gate
    
    steps:
    - name: ðŸ“¦ Checkout code
      uses: actions/checkout@v4
      
    - name: ðŸš€ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: ðŸ“Š Code Quality Check
      run: |
        echo "ðŸ” Running comprehensive quality checks..."
        npm run lint
        echo "âœ… Linting passed"
        
    - name: ðŸ§ª Test Suite
      run: |
        echo "ðŸ§ª Running test suite..."
        npm test
        echo "âœ… All tests passed"
        
    - name: ðŸ—ï¸ Build Verification
      run: |
        echo "ðŸ—ï¸ Verifying build process..."
        npm run build
        echo "âœ… Build successful"
        
    - name: ðŸ“ PR Summary
      run: |
        echo "## ðŸŽ‰ Quality Gate Passed!" >> $GITHUB_STEP_SUMMARY
        echo "All checks have passed successfully:" >> $GITHUB_STEP_SUMMARY
        echo "- âœ… Code linting" >> $GITHUB_STEP_SUMMARY
        echo "- âœ… Unit tests" >> $GITHUB_STEP_SUMMARY
        echo "- âœ… Build verification" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "This PR is ready for review and merge! ðŸš€" >> $GITHUB_STEP_SUMMARY